# ytb2bili 配置文件示例（TOML格式）
# 复制此文件为 config.toml 并根据实际情况修改
# 注意：环境变量会覆盖此文件中的配置

# ============================================================================
# 应用基础配置
# ============================================================================

[server]
host = "0.0.0.0"           # 服务监听地址，0.0.0.0 表示监听所有网卡
port = 5688                # 服务端口
static_dir = "./downloads" # 静态文件目录（视频、字幕等）
static_path = "/static"    # 静态文件访问路径前缀


# ============================================================================
# 数据库配置
# ============================================================================
[database]
type = "sqlite"             # 数据库类型: sqlite, mysql, postgresql
path = "ytb2bili.db"        # SQLite 数据库文件路径
auto_migrate = true         # 是否自动迁移数据库表结构
table_prefix = ""           # 表名前缀（可选）

# MySQL 配置示例（取消注释并修改以使用 MySQL）
# type = "mysql"
# host = "127.0.0.1"
# port = 3306
# user = "root"
# password = "your_password"
# dbname = "ytb2ibili"
# timezone = "Asia/Shanghai"

# PostgreSQL 配置示例（取消注释并修改以使用 PostgreSQL）
# type = "postgresql"
# host = "127.0.0.1"
# port = 5432
# user = "postgres"
# password = "your_password"
# dbname = "ytb2bili"
# sslmode = "disable"
# timezone = "UTC"

# ============================================================================
# 视频处理工作流配置
# ============================================================================
[workflow]
download_dir = "./downloads"  # 视频下载目录（必需，应与 server.static_dir 保持一致）

# yt-dlp 可执行文件路径（可选，默认从 PATH 查找）
ytdlp_path = "/usr/local/bin/yt-dlp"

# ffmpeg 可执行文件路径（可选，默认从 PATH 查找）
ffmpeg_path = "/usr/local/bin/ffmpeg"


# 代理地址（可选，用于加速下载）
# proxy_url = "http://127.0.0.1:7890"

# 微软语音服务配置（可选，用于旧版翻译功能）
# speech_key = "your_azure_speech_key"
# speech_region = "eastasia"

# LLM 翻译配置
llm_translation_enabled = false      # 是否启用 LLM 批量翻译（推荐，替代微软翻译）
llm_translation_batch_size = 25      # 批量翻译每批句子数
llm_translation_max_workers = 3      # 并发工作者数量
llm_translation_context_size = 2     # 上下文窗口大小
llm_translation_source_lang = "en"   # 源语言代码
llm_translation_target_lang = "zh-Hans"  # 目标语言代码

# TTS 字幕音频合成配置
tts_enabled = false  # 是否启用字幕音频合成

# ============================================================================
# Agent & LLM 配置
# ============================================================================
[agent]
name = "ytb2bili_agent"  # Agent 名称

[agent.llm]
provider = "openai"                      # LLM 提供商: openai, deepseek, openrouter 等
api_key = "your_api_key_here"            # LLM API 密钥（必需）
model = "gpt-4"                          # 使用的模型名称
# base_url = "https://api.openai.com/v1"  # 自定义 API 地址（可选）

# OpenRouter 示例
# provider = "openrouter"
# api_key = "sk-or-v1-..."
# base_url = "https://openrouter.ai/api/v1"
# model = "anthropic/claude-3-sonnet"

# DeepSeek 示例
# provider = "deepseek"
# api_key = "sk-..."
# base_url = "https://api.deepseek.com/v1"
# model = "deepseek-chat"

# ============================================================================
# Firebase 配置（可选，用于用户认证）
# ============================================================================
[firebase]
enabled = false  # 是否启用 Firebase 认证
# credentials_path = "/path/to/firebase-credentials.json"
# project_id = "your-project-id"

# ============================================================================
# TikHub API 配置（可选，用于抖音相关功能）
# ============================================================================
[tikhub]
# api_key = "your_tikhub_api_key"
# base_url = "https://api.tikhub.io"




# ============================================================================
# 自动更新配置
# ============================================================================
[updater]
enabled = true         # 是否启用更新检查
auto_update = false    # 是否自动更新（建议设为 false，手动更新更安全）
check_interval = 24    # 检查更新间隔（小时），0 表示禁用
# update_url = "https://api.github.com/repos/zolagz/ytb2bili/releases/latest"
# current_version = "0.0.1"

# ============================================================================
# TTS 服务配置（可选，用于语音合成）
# ============================================================================
[tts]
# base_url = "https://tts-api.com"
# app_id = "your_app_id"
# app_secret = "your_app_secret"

# ============================================================================
# 腾讯云 COS 存储配置（可选，用于云端存储）
# ============================================================================
[tencos]
enabled = false  # 是否启用腾讯云 COS 存储
# cos_bucket_url = "https://your-bucket.cos.ap-guangzhou.myqcloud.com"
# cos_secret_id = "your_secret_id"
# cos_secret_key = "your_secret_key"
# cos_region = "ap-guangzhou"
# cos_bucket = "your-bucket-name"
# sub_app_id = "your_app_id"
